{
  "info": {
    "name": "Smart App Backend ",
    "description": "Automatically generated Postman collection for Smart App (all endpoints except /auth/verify and /translate).",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://smart-app-u3of.onrender.com"
    },
    {
      "key": "idToken",
      "value": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjNzQ5NTFmNjBhMDE0NzE3ZjFlMzA4ZDZiMjgwZjQ4ZjFlODhmZGEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiRGVtbyBVc2VyIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3Zpc3VhbC1kaWN0aW9uYXJ5LWRmNzg2IiwiYXVkIjoidmlzdWFsLWRpY3Rpb25hcnktZGY3ODYiLCJhdXRoX3RpbWUiOjE3NjQ2Nzk4NjQsInVzZXJfaWQiOiI2YjFFZWVSbHcwaG55QXVLZzhRY0F6NVZ6RUEzIiwic3ViIjoiNmIxRWVlUmx3MGhueUF1S2c4UWNBejVWekVBMyIsImlhdCI6MTc2NDY3OTg2NCwiZXhwIjoxNzY0NjgzNDY0LCJlbWFpbCI6InRlc3QudXNlcjRAZXhhbXBsZS5pdCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJ0ZXN0LnVzZXI0QGV4YW1wbGUuaXQiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.PEkH_85sPugtLw7OymleQTz01k-E9xMVa0y2KkcLUgH3NMAJJwATk3EOY5knilsF9IhbHPNaHDFyLNNhTV0i5_qpjYkQZJoEBBClb6wfSFlpNG2dANWYSIVSDkW5sHXUVFFQPqWWzRmO5mwKaRoziVePsnVdDjDkxU557sStiUoVM-TSPfoewFRP2pki9X0aIe9h-wLAgXhrQudpGnRwvDoTj2lPyi5HnidE6CjQFHJxmmDj39pTOQ6N-sOU1TehRQeq0cBSCGuC_N5ZBUVl990hIDqIlBQnpaISvFEi_YqaZsEVu8Q4E-QKdRg8oEupc4QfUv3lypuGhxvBxPf3fg"
    },
    {
      "key": "email",
      "value": "test.user4@example.it"
    },
    {
      "key": "password",
      "value": "test123"
    },
    {
      "key": "imageId",
      "value": ""
    },
    {
      "key": "wordId",
      "value": ""
    },
    {
      "key": "listId",
      "value": ""
    },
    {
      "key": "sharedCode",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Auth: Signup",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"email\":\"{{email}}\",\"password\":\"{{password}}\",\"name\":\"Demo User\",\"preferredLang\":\"en\",\"avatarId\":2}"
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/auth/signup",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "auth",
            "signup"
          ]
        }
      }
    },
    {
      "name": "Auth: Login (manual)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"email\":\"{{email}}\",\"password\":\"{{password}}\"}"
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/auth/login",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "auth",
            "login"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 200) { try { const json = pm.response.json(); if (json.idToken) pm.collectionVariables.set('idToken', json.idToken); } catch(e){} }"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Auth: Get profile",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/auth/profile",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "auth",
            "profile"
          ]
        }
      }
    },
    {
      "name": "Auth: Update User Profile",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"displayName\":\"Updated User\",\"preferredLang\":\"en\",\"avatarId\":3}"
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/auth/profile",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "auth",
            "profile"
          ]
        }
      }
    },
    {
      "name": "Auth: Change Password",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"oldPassword\":\"test123\",\"newPassword\":\"test456\"}"
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/auth/change-password",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "auth",
            "change-password"
          ]
        }
      }
    },
    {
      "name": "Auth: Logout",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/auth/logout",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "auth",
            "logout"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.collectionVariables.set('idToken', '');"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Images: Store Image",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            {
              "key": "image",
              "type": "file",
              "src": "C:\\Users\\zhuji\\OneDrive\\Desktop\\seagull-perched-on-rock-421015772.jpg"
            },
            {
              "key": "objectName",
              "value": "seagull",
              "type": "text"
            },
            {
              "key": "accuracy",
              "value": "0.95",
              "type": "text"
            },
            {
              "key": "targetLang",
              "value": "it",
              "type": "text"
            }
          ]
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/images",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "images"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 201 || pm.response.code === 200) { try { const json = pm.response.json(); if (json.image); pm.collectionVariables.set('imageId', json.imageId); } catch(e){} }"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "images: Update image",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/images/{{imageId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "images",
            "{{imageId}}"
          ]
        }
      }
    },
    {
      "name": "images: Get image by Id",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/images/{{imageId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "images",
            "{{imageId}}"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 201 || pm.response.code === 200) { try { const json = pm.response.json(); if (json.image); pm.collectionVariables.set('imageId', json.imageId); pm.collectionVariables.set('wordId', json.wordId); } catch(e){} }"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "images: Delete image",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/images/{{imageId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "images",
            "{{imageId}}"
          ]
        }
      }
    },
    {
      "name": "Translation: Translate Text",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"originalText\":\"seagull\",\"targetLang\":\"it\"}"
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/translate",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "translate"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 201 || pm.response.code === 200) { try { const json = pm.response.json(); const word = json.word || json; if (word && word.wordId) pm.collectionVariables.set('wordId', word.wordId); } catch(e){} }"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Lists: Create List",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            {
              "key": "image",
              "type": "file",
              "src": "C:\\Users\\zhuji\\OneDrive\\Desktop\\seagull-perched-on-rock-421015772.jpg"
            },
            {
              "key": "listName",
              "value": "my vocab",
              "type": "text"
            }
          ]
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 201 || pm.response.code === 200) { try { const json = pm.response.json(); if (json.listId) pm.collectionVariables.set('listId', json.listId); } catch(e){} }"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Lists: List User Lists",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists"
          ]
        }
      }
    },
    {
      "name": "Lists: Get List by Id",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists/{{listId}}/items",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists",
            "{{listId}}",
            "items"
          ]
        }
      }
    },
    {
      "name": "Lists: Add Item to Lists (separated by comma)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"wordId\":\"{{wordId}}\",\"imageId\":\"{{imageId}}\",\"listIds\":[\"{{listId}}\"]}",
          "url": {
            "raw": "https://smart-app-u3of.onrender.com/lists/items",
            "host": [
              "{{baseUrl}}"
            ],
            "path": [
              "lists",
              "items"
            ]
          }
        }
      }
    },
    {
      "name": "Lists: Update List",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            {
              "key": "image",
              "type": "file",
              "src": "C:\\Users\\zhuji\\OneDrive\\Desktop\\seagull-perched-on-rock-421015772.jpg"
            },
            {
              "key": "listName",
              "value": "My Vocab Updated",
              "type": "text"
            }
          ]
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists/{{listId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists",
            "{{listId}}"
          ]
        }
      }
    },
    {
      "name": "Lists: Delete Item from List",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists/{{listId}}/items/{{wordId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists",
            "{{listId}}",
            "items",
            "{{wordId}}"
          ]
        }
      }
    },
    {
      "name": "Lists: Delete List",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists/{{listId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists",
            "{{listId}}"
          ]
        }
      }
    },
    {
      "name": "Lists: Create Share Code",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"listId\":\"{{listId}}\"}"
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists/share",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists",
            "share"
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 201 || pm.response.code === 200) { try { const json = pm.response.json(); if (json.sharedCode) pm.collectionVariables.set('sharedCode', json.sharedCode); } catch(e){} }"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Lists: View Shared List",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists/share/{{sharedCode}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists",
            "share",
            "{{sharedCode}}"
          ]
        }
      }
    },
    {
      "name": "Lists: View Shared List (public)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/share/list/{{shareCode}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "share",
            "list",
            "{{sharedCode}}"
          ]
        }
      }
    },
    {
      "name": "Lists: Import Shared List",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{idToken}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"sharedCode\":\"{{shareCode}}\"}"
        },
        "url": {
          "raw": "https://smart-app-u3of.onrender.com/lists/import",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "lists",
            "import"
          ]
        }
      }
    }
  ]
}